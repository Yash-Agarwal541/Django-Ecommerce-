{% extends "base.html" %}
{% load static %}
{% block content %}

<div class="container">

  <!-- Carousel -->
  <div class="carousel-wrapper">
    <div id="carouselExampleControls" class="carousel slide custom-carousel" data-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img class="d-block w-100" src="{% static 'images/display.jpg' %}" alt="First slide">
        </div>
        <div class="carousel-item">
          <img class="d-block w-100" src="{% static 'images/display_ad.jpg' %}" alt="Second slide">
        </div>
        <div class="carousel-item">
          <img class="d-block w-100" src="{% static 'images/display3.jpg' %}" alt="Third slide">
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>

  <!-- Category Buttons -->
  <div class="row text-center my-4">
    <div class="col-12">
      <h4 style="
        font-size: 2rem;
        font-weight: 700;
        background: linear-gradient(to right, #555, #aaa);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        text-transform: uppercase;
        margin-bottom: 30px;
        letter-spacing: 1px;
        text-align: center;
      ">
        Shop by Category
      </h4>

      <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px;">
        {% for cat in categories %}
        <a href="{% url 'category_page' category_slug=cat.slug %}" style="text-decoration: none;">
          <button style="
            width: 220px;
            height: 70px;
            font-size: 1.2rem;
            font-weight: 600;
            text-transform: uppercase;
            color: #333;
            background: linear-gradient(to right, #f2f2f2, #dcdcdc);
            border: 1px solid #ccc;
            border-radius: 30px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease-in-out;
            cursor: pointer;
            margin: 12px 20px;
          "
          onmouseover="this.style.background='linear-gradient(to right, #ddd, #bbb)'; this.style.transform='translateY(-3px)'; this.style.boxShadow='0 10px 15px rgba(0,0,0,0.1)'"
          onmouseout="this.style.background='linear-gradient(to right, #f2f2f2, #dcdcdc)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 6px 12px rgba(0,0,0,0.05)'">
            {{ cat.name }}
          </button>
        </a>
        {% endfor %}
      </div>
    </div>
  </div>

  <!-- Show Top 6 Products -->
  <div class="row mx-auto">
    {% for item in products|slice:":6" %}
    <div class="col-md-4 col-sm-4">
      <div class="product-display card text-center">
        <a href="{% url 'product_detail' slug=item.slug %}">
          <img class="product-display-image" src="{{ item.product_image.url }}">
          <p class="product-display-title">{{ item.name }}</p>
        </a>
        <p class="product-display-price">â‚¹ {{ item.price }}</p>
        <a href="{% url 'create_cart' item.slug %}" class="text-center">
          <button class="product-display-btn btn-primary">Add</button>
        </a>
      </div>
    </div>
    {% endfor %}
  </div>

  <!-- Category-wise Horizontal Sliders -->
  {% for category_name, slider_products in category_sliders.items %}
  <div class="category-slider-section mt-5">
    <h4 class="slider-heading">{{ category_name }}</h4>
    <div class="product-slider-container">
      <div class="product-slider">
        {% for product in slider_products %}
        <a href="{% url 'product_detail' slug=product.slug %}">
          <div class="slider-item">
            <img src="{{ product.product_image.url }}" alt="{{ product.name }}">
          </div>
        </a>
        {% endfor %}
      </div>
    </div>
  </div>
  {% endfor %}

  <!-- View All Products Button -->
  <div class="text-center mt-4">
    <a href="{% url 'all_products' %}" 
       style="
          display: inline-block;
          padding: 14px 32px;
          font-size: 1.1rem;
          font-weight: 600;
          text-transform: uppercase;
          text-decoration: none;
          color: #fff;
          background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%);
          border-radius: 50px;
          box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
          transition: all 0.3s ease-in-out;
        "
       onmouseover="this.style.background='linear-gradient(135deg, #182848 0%, #4b6cb7 100%)'; this.style.transform='translateY(-3px)'; this.style.boxShadow='0 12px 25px rgba(0, 0, 0, 0.3)'"
       onmouseout="this.style.background='linear-gradient(135deg, #4b6cb7 0%, #182848 100%)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 8px 20px rgba(0, 0, 0, 0.2)'">
       View All Products
    </a>
  </div>

</div>

{% endblock %}
